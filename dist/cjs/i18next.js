"use strict";var t=require("./_virtual/_tslib.js"),o=function(o,i){return t.__awaiter(void 0,void 0,void 0,(function(){var e=this;return t.__generator(this,(function(t){return[2,Promise.all(o.map((function(t){var o=t.call(e,i);return o||Promise.resolve(o)})))]}))}))},i=function(){function i(t){void 0===t&&(t={}),this.options=t,this.isInitialized=!1,this.extendOptionsHooks=[],this.loadResourcesHooks=[],this.resources={}}return i.prototype.throwIfAlreadyStarted=function(t){if(this.isInitialized)throw new Error(t)},i.prototype.throwBecauseOfHookIfAlreadyStarted=function(t){this.throwIfAlreadyStarted('Cannot call "addHook('+t+')" when fastify instance is already started!')},i.prototype.addHook=function(t,o){return this.throwBecauseOfHookIfAlreadyStarted(t),"extendOptions"===t&&this.extendOptionsHooks.push(o),"loadResources"===t&&this.loadResourcesHooks.push(o),this},i.prototype.runExtendOptionsHooks=function(){return t.__awaiter(this,void 0,void 0,(function(){var i=this;return t.__generator(this,(function(e){switch(e.label){case 0:return[4,o(this.extendOptionsHooks,[t.__assign({},this.options)])];case 1:return e.sent().forEach((function(o){i.options=t.__assign(t.__assign({},o),i.options)})),[2]}}))}))},i.prototype.runLoadResourcesHooks=function(){return t.__awaiter(this,void 0,void 0,(function(){var i;return t.__generator(this,(function(e){switch(e.label){case 0:return i={},[4,o(this.loadResourcesHooks,[])];case 1:return e.sent().forEach((function(o){i=t.__assign(t.__assign({},i),o)})),[2,i]}}))}))},i.prototype.init=function(){return t.__awaiter(this,void 0,void 0,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.runExtendOptionsHooks()];case 1:return t.sent(),o=this,[4,this.runLoadResourcesHooks()];case 2:return o.resources=t.sent(),this.isInitialized=!0,[2,this]}}))}))},i.prototype.t=function(t,o){if(!this.isInitialized)throw new Error("i18next is not yet initialized!");return this.resources[t]},i}();module.exports=function(t){return new i(t)};
